<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/layout}">
    <head>
        <title>Hồ sơ</title>
        <meta charset="utf-8"/>
        <link rel="stylesheet" th:href="@{../css/view-profile.css}">
    </head>
    <body>
        <th:block layout:fragment="content">
            <section id="breadcrumbs" class="breadcrumbs d-flex align-items-center">
                <div class="container">
                    <div class="d-flex justify-content-between align-items-center">
                        <h2>Hồ sơ</h2>
                        <ol>
                            <li><a th:href="@{/}">Trang chủ</a></li>
                            <li>Hồ sơ</li>
                        </ol>
                    </div>
                </div>
            </section>
            <div class="container my-5">
                <div class="row gy-4">
                    <div class="col-12" th:if="${success != null}">
						<div class="alert alert-success alert-dismissible fade show" role="alert">
						    <strong th:text="${success}"></strong>
						    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
						</div>
					</div>
                    <div class="col-3 portfolio">
                        <div class="portfolio-container">
                            <div class="portfolio-item">
                                <div class="portfolio-wrap border rounded rounded-3">
                                    <img th:src="${accountLogin.urlAvater}" class="img-fluid image-preview" alt="" th:unless="${#strings.isEmpty(accountLogin.urlAvater)}">
                                    <img th:src="@{../assets/img/avatar_default.png}" class="img-fluid image-preview" alt="" th:if="${#strings.isEmpty(accountLogin.urlAvater)}">
                                    <div class="portfolio-info">
                                        <h4>Ảnh đại diện</h4>
                                        <div class="portfolio-links">
                                             <a class="portfolio-lightbox" title="Xem ảnh đại diện"><i class="bi bi-arrow-up-right-square"></i></a>
                                            <label class="cursor-pointer" title="Thay ảnh đại diện" for="avatar"><i class="bi bi-upload"></i></label>
                                            <form th:action="@{/upload-avatar}" method="POST" enctype="multipart/form-data" id="formUploadAvatar">
                                                <input type="file" name="data" class="d-none" id="avatar" onchange="changeAvatar()">
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-9 portfolio-details p-0">
                      <div class="portfolio-info h-100">
                        <h3>Xin chào !</h3>
                        <h4>
                            [[${accountLogin.lastName}]] [[${accountLogin.middleName}]] [[${accountLogin.firstName}]]
                        </h4>
                        <div>
                            [[${accountLogin.description}]]
                        </div>
                        <a th:href="@{/update-profile}" class="btn btn-sm btn-primary">Sửa thông tin</a>
                      </div>
                    </div>
                  </div>
                <div class="row">
                    <div class="col-12">
                        <div class="mt-4">
                            <ul class="nav nav-tabs ">
                                <li class="nav-item">
                                    <span class="nav-link border-2 active fw-bold py-3" aria-current="page">Thông tin cá nhân</span>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link border-2 fw-bold py-3" th:href="@{/view-profile-learning-progress}">Tiến độ học tập</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link border-2 fw-bold py-3" th:href="@{/view-history-trial-test}">Lịch sử thi thử</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link border-2 fw-bold py-3" th:href="@{/view-profile-registed-exam}">Kì thi thật đã đăng ký</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-12 portfolio-details pt-0">
                        <div class="portfolio-info border border-2 border-top-0" style="border-radius: 0 0 0.5rem 0.5rem;">
                            <h3>THÔNG TIN CƠ BẢN</h3>
                            <div class="row">
                                <div class="row">
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="input-first-name">Họ</label>
                                            <label class="form-control d-flex align-items-center h-100" th:text="${account.lastName}"></label>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="input-middle-name">Tên đệm</label>
                                            <label class="form-control d-flex align-items-center" th:text="${account.middleName}"></label>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="input-last-name">Tên</label>
                                            <label class="form-control d-flex align-items-center" th:text="${account.firstName}"></label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-6">
                                        <div class="form-group" id="birthday-place">
                                            <label class="form-control-label" for="input-birthday">Ngày sinh</label>
                                            <div class="input-group">
                                                <label class="form-control d-flex align-items-center" th:text="${account.birthDay}"></label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="input-last-name">Tên đăng nhập</label>
                                            <div class="input-group">
                                                <label class="form-control d-flex align-items-center" th:text="${account.userName}"></label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="input-gender">Giới tính:</label>
                                            <span th:if="${account.gender == 1}" class="form-control d-flex align-items-center">Nam</span>
                                            <span th:if="${account.gender == 0}" class="form-control d-flex align-items-center">Nữ</span>
                                            <span th:if="${account.gender == 2}" class="form-control d-flex align-items-center">Khác</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <h3 class="mt-5">ĐỊA CHỈ LIÊN LẠC</h3>
                            <div class="row">
                                <div class="col-12">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="form-control-label" for="input-address">Số điện thoại</label>
                                                <div class="input-group">
                                                    <label class="form-control d-flex align-items-center" th:text="${account.numberPhone}"></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="form-control-label" for="input-address">Email</label>
                                                <div class="input-group">
                                                    <label class="form-control d-flex align-items-center" th:text="${account.email}"></label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label class="form-control-label" for="input-address">Địa chỉ</label>
                                                <div class="input-group">
                                                    <label class="form-control d-flex align-items-center" th:text="${account.address}"></label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-lg-4">
                                            <div class="form-group">
                                                <label class="form-control-label" for="input-city">Phường / Xã</label>
                                                <div class="input-group">
                                                    <label class="form-control d-flex align-items-center"></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <div class="form-group">
                                                <label class="form-control-label" for="input-country">Quận / Huyện</label>
                                                <div class="input-group">
                                                    <label class="form-control d-flex align-items-center"></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <div class="form-group">
                                                <label class="form-control-label" for="input-country">Tỉnh / Thành phố</label>
                                                <div class="input-group">
                                                    <label class="form-control d-flex align-items-center h-100"></label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <h3 class="mt-5">THÔNG TIN KHÁC</h3>
                            <div class="row">
                                <div class="col-12">
                                    <span class="text-danger fw-bold">Ngày tạo:</span>
                                    <span th:text="${#dates.format(account.createAt, 'dd-MM-yyyy HH:mm')}"></span>
                                </div>
                                <div class="col-12 mt-3">
                                    <span class="text-danger fw-bold">Cập nhật lần cuối:</span>
                                    <span th:text="${#dates.format(account.updateAt, 'dd-MM-yyyy HH:mm')}"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </th:block>
        <th:block layout:fragment="script">
            <script th:src="@{../js/view-profile.js}"></script>
        </th:block>
    </body>
</html>